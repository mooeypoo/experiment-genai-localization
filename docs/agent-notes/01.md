# Step 01 — Enhance App Structure

## 1) Summary

This step extracts the inline header and navigation markup from `App.vue` into two dedicated components: `AppHeader` and `NavBar`. The post view (title, body, comments) and the users list view were already fully functional from step 00 and required no changes. The result is a cleaner separation of concerns — `App.vue` is now a thin shell that composes layout components and a router view, while header/nav own their own markup and styles.

## 2) Decisions & Rationale

### Two components rather than one
The prompt lists "a header component" and "a navigation bar" as separate items. Rather than collapsing them into a single component, I created `AppHeader.vue` (the full banner: brand + nav) and `NavBar.vue` (just the route links). This keeps each component single-purpose: `NavBar` handles route links and active-link styling; `AppHeader` handles layout-level concerns like the brand name and the header's border/padding. If future steps add a search bar, user menu, or other header content, they slot in alongside `NavBar` without touching nav logic.

### Adding a brand label
Step 00's header had only navigation links. Extracting into a component made the header feel empty with just links, so a "Social Demo" brand span was added. This also improves usability — the user sees the app name persistently — and gives `AppHeader` its own presentational responsibility beyond being a wrapper.

### Moving styles to scoped component blocks
In step 00, `header`, `nav`, and `nav a` styles lived in `App.vue`'s unscoped `<style>`. These were moved into the respective components' `<style scoped>` blocks using class selectors (`.app-header`, `.nav-bar`). This eliminates global style leakage and makes each component self-contained. `App.vue` retains only truly global styles (reset, body, layout shell, `main`, `hr`).

### No changes to views or feature components
The prompt asks for a post page showing title, body, and comments, and a users page listing users. Both already existed from step 00 and were verified working in the browser. Making gratuitous changes would violate the principle of minimal diffs and risk regressions. The step's contribution is structural cleanup, not feature work.

### No changes to the router or data layer
The routing configuration and data abstraction module are unchanged. The prompt says "use the existing data abstraction module," confirming that these layers should not be touched.

## 3) Ambiguities Encountered

### "A header component" and "A navigation bar" — one component or two?
**Options considered:**
1. A single `AppHeader` component containing both the brand and the nav links inline.
2. Two components: `AppHeader` (outer wrapper with brand) embedding `NavBar` (just the links).
3. Three components: `AppHeader`, `NavBar`, and a separate `AppBrand`.

**Resolution:** Option 2. It honors the prompt's separate naming while avoiding over-decomposition. A third component for just a brand `<span>` would be excessive at this stage. If the brand gains interactivity (e.g., clicking to go home) or complexity, it can be extracted later.

### Should the views be modified?
**Options considered:**
1. Leave `PostView` and `UsersView` as-is since they already meet the requirements.
2. Rework them (e.g., restructure markup, rename, split further).

**Resolution:** Option 1. Both views already display exactly what the prompt describes. Changing them would be change for change's sake, introducing unnecessary diff noise and risk.

### Where to place layout components — `components/` or a new `layout/` directory?
**Options considered:**
1. Keep everything in `components/`.
2. Introduce `src/layout/` for `AppHeader` and `NavBar`.

**Resolution:** Option 1. Two layout-related components don't justify a new directory. The `App` prefix on `AppHeader` already signals its layout role. If more layout components emerge (sidebar, footer), a `layout/` directory can be introduced then.

## 4) Tradeoffs

| Decision | Upside | Downside |
|---|---|---|
| Two components (AppHeader + NavBar) | Clear single-responsibility; nav logic isolated | Slightly more files for a small app |
| Brand label added | Better UX; header has its own identity | Hardcoded string; not configurable without editing the component |
| Scoped styles moved out of App.vue | Self-contained components; no global leakage | Slightly more CSS duplication if multiple components need the same tokens (e.g., border color) |
| Views left unchanged | Minimal diff; no regression risk | No visual or structural improvements to views in this step |

## 5) Non-Goals

- **Redesigning the views.** PostView and UsersView were already complete; this step focuses on layout extraction.
- **Adding new routes or pages.** The route configuration is unchanged.
- **Introducing a design system or CSS variables.** The hardcoded color values (#e8e8e8, #4a90d9, etc.) are carried forward as-is.
- **Making the brand a home link.** The `"/"` route redirects to the post, so a clickable brand would work, but it was not requested and adds a decision about whether it should match the Post link's active state.

## 6) Files Changed

| File | Change | Purpose |
|---|---|---|
| `src/components/AppHeader.vue` | **New** | Header component with brand label and embedded NavBar |
| `src/components/NavBar.vue` | **New** | Navigation links with active-link styling |
| `src/App.vue` | **Modified** | Replaced inline header/nav markup with `<AppHeader />`; removed header/nav styles; kept global styles only |
| `docs/agent-notes/01.md` | **New** | This file |

## 7) Manual Verification Checklist

- [ ] `npm run build` succeeds without warnings.
- [ ] The header displays "Social Demo" on the left and navigation links on the right.
- [ ] The "Post" link navigates to `/#/post/post-1` and shows the active state.
- [ ] The post view still displays title, author, body, and 3 comments.
- [ ] The comment form still works (select author, type text, submit).
- [ ] The "Users" link navigates to `/#/users` and shows the active state.
- [ ] The users view still displays 4 user cards and the create-user form.
- [ ] Creating a user still works and is reflected in the comment form's author dropdown.
- [ ] Page refresh still resets state to seed data.
- [ ] No global style regressions (reset, body font, main padding, hr styling still apply).

## 8) Known Issues / Follow-ups

- **Brand is not a link.** Clicking "Social Demo" does nothing. A future step could make it navigate to `/` or a dedicated home page.
- **Nav links are hardcoded in NavBar.** If routes are added or removed, `NavBar.vue` must be updated manually. A data-driven approach (iterating over router routes) could be considered if the nav grows.
- **No responsive behavior.** The header is a horizontal flex row; on very narrow screens the brand and links may wrap awkwardly. A hamburger menu or responsive layout is not in scope.
- **Duplicated color tokens.** Values like `#e8e8e8` and `#4a90d9` appear in multiple components' scoped styles. CSS custom properties on `:root` would centralize these, but are not introduced yet to keep the step focused.
