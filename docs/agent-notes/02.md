# Step 02 — User Profile Page

## 1) Summary

This step adds a user profile page accessible by clicking any user card on the Users list. A new route (`/users/:id`) renders a `UserProfileView` that displays the user's avatar, display name, username, and bio. The seed data was extended with a `bio` field for each user, and the `createUser` store function was updated to accept an optional bio. The `UserCard` component was changed from a plain `<div>` to a `<RouterLink>`, making each card a navigable link.

## 2) Decisions & Rationale

### RouterLink on the entire card vs. a small "View profile" link
The prompt says "clicking a user navigates to a user profile page." Wrapping the entire `UserCard` in a `<RouterLink>` makes the full card surface clickable, which is the most intuitive UX — users expect to click the card itself, not hunt for a small text link. The card gains a hover effect (border color change + subtle shadow) to reinforce affordance.

### Named route for navigation
`UserCard` navigates using `{ name: 'user-profile', params: { id: user.id } }` rather than a raw path string. Named routes decouple the component from the URL structure — if the path pattern changes later, only the router config needs updating.

### Bio as a new seed field
The prompt requires the profile page to display a bio. The existing user schema had no bio field, so it was added to `seed.json`. Each seeded user received a short, distinct bio to make the demo visually interesting and to exercise the field in all four profiles.

### Default empty bio for `createUser`
The `CreateUserForm` does not (yet) have a bio input. The `createUser` function now accepts `bio` with a default of `''`. The profile view handles this gracefully with an italic "No bio yet." fallback. This avoids forcing a form redesign in this step while keeping the data model consistent.

### Separate view file (`UserProfileView.vue`)
A new view was created rather than overloading `UsersView`. The users list and a single user's profile are conceptually different pages with different data requirements and layouts. Keeping them in separate files follows the existing views-vs-components convention.

### Route ordering — `/users` before `/users/:id`
Vue Router matches top-down for equal specificity, but static segments (`/users`) already take priority over dynamic ones (`/users/:id`) in Vue Router 4. The ordering is explicit in the routes array regardless, making intent clear to future readers.

## 3) Ambiguities Encountered

### Should the profile page be at `/users/:id` or `/profile/:id`?
**Options considered:**
1. `/users/:id` — nested under the users namespace, consistent REST-style hierarchy.
2. `/profile/:id` — separate top-level path, emphasizing it as a distinct concept.

**Resolution:** `/users/:id`. It groups user-related routes under a common prefix, which is conventional for resource-oriented URLs. It also means the "Users" nav link remains active (via `router-link-active` prefix matching) when viewing a profile, providing navigational context.

### Should clicking a user card navigate or expand inline?
**Options considered:**
1. Navigate to a separate profile page (full route change).
2. Expand the card inline to show details.

**Resolution:** Option 1. The prompt explicitly says "navigates to a user profile page," which implies a distinct routed page, not an inline expansion.

### How to handle users created at runtime (no bio)?
**Options considered:**
1. Make bio required in `createUser` and add a bio field to `CreateUserForm`.
2. Make bio optional with a default, show a fallback on the profile.
3. Omit bio entirely for dynamically created users and conditionally hide the section.

**Resolution:** Option 2. It keeps the create form simple (unchanged from step 00) while ensuring every user object has a consistent shape. The fallback text makes the empty state intentional rather than broken.

### Should `UserCard` use `<RouterLink>` or programmatic `router.push`?
**Options considered:**
1. `<RouterLink>` — declarative, renders a real `<a>` tag.
2. `@click` with `router.push()` — programmatic, keeps the `<div>`.

**Resolution:** `<RouterLink>`. It produces a semantic `<a>` element, which means the browser shows the URL on hover, right-click "open in new tab" works, and screen readers announce it as a link. Programmatic navigation would sacrifice all of these for no benefit.

## 4) Tradeoffs

| Decision | Upside | Downside |
|---|---|---|
| Full-card RouterLink | Large click target; semantic anchor | Card must handle link styling (text-decoration, color inheritance) |
| Bio as optional field | No breaking change to CreateUserForm | Profile page must handle empty-bio fallback |
| `/users/:id` route path | RESTful convention; "Users" nav stays active | Could conflict if a user ID ever matched a sub-path name (unlikely with `user-N` IDs) |
| Hover effect on cards | Clear clickability affordance | Introduces a visual transition that didn't exist before |

## 5) Non-Goals

- **Editing user profiles.** The profile page is read-only; there is no "edit bio" form.
- **Adding a bio field to CreateUserForm.** Kept out of scope to minimize form changes; can be added in a future step.
- **Back-navigation link on the profile page.** The browser back button and the "Users" nav link both work; an explicit "← Back to users" link was not added.
- **Showing user's posts or comments on their profile.** The profile currently shows only name and bio, not an activity feed.

## 6) Files Changed

| File | Change | Purpose |
|---|---|---|
| `src/data/seed.json` | **Modified** | Added `bio` field to all 4 seeded users |
| `src/data/store.js` | **Modified** | `createUser` now accepts optional `bio` parameter (defaults to `''`) and includes it in the user object |
| `src/router/index.js` | **Modified** | Added `/users/:id` route pointing to `UserProfileView` |
| `src/views/UserProfileView.vue` | **New** | Profile page displaying avatar, name, username, and bio |
| `src/components/UserCard.vue` | **Modified** | Changed root element from `<div>` to `<RouterLink>`; added hover styles |
| `docs/agent-notes/02.md` | **New** | This file |

## 7) Manual Verification Checklist

- [ ] `npm run build` succeeds.
- [ ] Users page still shows all 4 user cards in a grid.
- [ ] Each user card shows a pointer cursor and hover effect on mouseover.
- [ ] Clicking a user card navigates to `/#/users/<user-id>`.
- [ ] Alice's profile shows her name, @alice, avatar, and bio text.
- [ ] Bob, Carol, and Dan each show their respective bios.
- [ ] Navigating to `/#/users/nonexistent` shows "User not found."
- [ ] Creating a new user on the Users page produces a clickable card.
- [ ] Clicking the newly created user's card shows their profile with "No bio yet."
- [ ] The "Users" nav link shows active state both on `/users` and `/users/:id`.
- [ ] Right-clicking a user card shows "Open link in new tab" (semantic `<a>` tag).
- [ ] Browser back button returns from profile to the users list.

## 8) Known Issues / Follow-ups

- **No "back to list" affordance on the profile page.** Users rely on the nav bar or browser back button. A breadcrumb or back link could improve UX.
- **CreateUserForm does not expose a bio input.** Dynamically created users always have an empty bio. A future step could add this field.
- **The "Users" nav link appears active on profile pages** due to `router-link-active` prefix matching. This is arguably correct (profile is a sub-resource of users) but could be confusing if the intent is to highlight only the exact list page. Using `router-link-exact-active` for styling would change this behavior.
- **No user-level activity summary.** The profile page could eventually show the user's posts and comments, but that requires new store queries (`getPostsByAuthor`, `getCommentsByAuthor`) not yet in the data layer.
